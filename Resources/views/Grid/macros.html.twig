{%- macro attributes(attr,translation_domain) -%}
	{%- for attrname, attrvalue in attr -%}
		{{- " " -}}
		{%- if attrname in ['placeholder', 'title'] -%}
			{{- attrname }}="{{ translation_domain is same as(false) ? attrvalue : attrvalue|trans({}, translation_domain) }}"
		{%- elseif attrvalue is same as(true) -%}
			{{- attrname }}="{{ attrname }}"
		{%- elseif attrvalue is not same as(false) -%}
			{{- attrname }}="{{ attrvalue }}"
		{%- endif -%}
	{%- endfor -%}
{%- endmacro attributes -%}

{%- macro deserializeOptionArray(value) -%}
	{%- apply spaceless -%}
		{%- if value is not iterable -%}
			{{ value|json_encode|raw }}
		{%- else -%}
			{
			{%- for key, val in value -%}
				{{ key|json_encode|raw }}:
				{%- if val starts with 'function' -%}
					{{ val|raw  }}
				{%- else -%}
					{{ val|json_encode|raw }}
				{%- endif -%}
				{%- if not loop.last -%},{% endif %}
			{%- endfor -%}
			}
		{%- endif -%}
	{%- endapply spaceless -%}
{%- endmacro deserializeOptionArray -%}