{%- macro attributes(attr,translation_domain) -%}
	{%- for attrname, attrvalue in attr -%}
		{{- " " -}}
		{%- if attrname in ['placeholder', 'title'] -%}
			{{- attrname }}="{{ translation_domain is same as(false) ? attrvalue : attrvalue|trans({}, translation_domain) }}"
		{%- elseif attrvalue is same as(true) -%}
			{{- attrname }}="{{ attrname }}"
		{%- elseif attrvalue is not same as(false) -%}
			{{- attrname }}="{{ attrvalue }}"
		{%- endif -%}
	{%- endfor -%}
{%- endmacro attributes -%}

{%- macro deserializeOptionArray(value) -%}
	{%- apply spaceless -%}
		{%- if value is not iterable -%}
			{%- if value starts with 'function' -%}
				{{ value|raw  }}
			{%- else -%}
				{{ value|json_encode|raw }}
			{%- endif -%}
		{%- else -%}
			{% set isIndexed = not (value|aggrid_is_associative) %}
			{% if isIndexed %}[{% else %}{ {% endif %}
			{%- for key, val in value -%}
				{% if not isIndexed %}{{ key|json_encode|raw }}:{% endif %}
				{%- if val starts with 'function' -%}
					{{ val|raw  }}
				{%- else -%}
					{{ val|json_encode|raw }}
				{%- endif -%}
				{%- if not loop.last -%},{% endif %}
			{%- endfor -%}{% if isIndexed %}]{% else %} }{% endif %}
		{%- endif -%}
	{%- endapply -%}
{%- endmacro deserializeOptionArray -%}