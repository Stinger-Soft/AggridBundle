{% set AGGRID_ID = grid.vars.id|replace({'-': '_'}) %}
{% set AGGRID_JS_ID = AGGRID_ID|replace({' ': '_'})|replace({'#': ''}) %}
{% set varAggrid = "stingerSoftAggrid" ~ AGGRID_JS_ID %}
{% set varAggridOptions = "stingerSoftAggridOptions" ~ AGGRID_JS_ID %}
{% set varOptions = "stingerSoftOptions" ~ AGGRID_JS_ID %}
var {{ varAggrid }};
jQuery(document).ready(function () {
	if(typeof moment !== 'undefined') {
		moment.locale('{{ app.request.locale|default('en') }}');
	}

	// let the grid know which columns and what data to use
	var {{ varAggridOptions }} = {% include '@StingerSoftAggrid/Grid/grid_options.js.twig' with {'grid': grid, 'columns': grid.columns} %};
	var {{ varOptions }} = {% include '@StingerSoftAggrid/Grid/stinger_options.js.twig' with {'options': grid.vars} %}

	{{ varAggrid }} = new StingerSoftAggrid('#{{ AGGRID_ID }}');
	{{ varAggrid }}.init({{ varAggridOptions }}, {{ varOptions }});
})
